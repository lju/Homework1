<html>
<canvas id="myCanvas" width="400" height="400"
        style="border:1px solid #000000;">
</canvas>
<script>

var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");

var ship = new Object();
ship.left = 200;
ship.top = 200;
//ship.direction = "up";
//ship.velocity = 0;
//ship.shoot = function(){}
 
ctx.fillRect(ship.left, ship.top, 20, 20);
function drawShip() {
	ctx.clearRect(0, 0, 400, 400);
	ctx.fillRect(ship.left, ship.top, 20, 20);
}

// Movement... diagonal?
function onKeyDown(event) {
    if (event.keyCode === 37) {
	//	ship.direction = "left";
		drawShip(--ship.left, ship.top);
	}
	
	if (event.keyCode === 38) {
	//	ship.direction = "up";
		drawShip(ship.left, --ship.top);
	}
	
	if (event.keyCode === 39) {
	//	ship.direction = "right";
		drawShip(++ship.left, ship.top);
	}
	
	if (event.keyCode === 40) {
	//	ship.direction = "down";
		drawShip(ship.left, ++ship.top);
	}
	
	//if (event.keyCode === 32) {
	//	ship.shoot(ship.direction, ship.left, ship.top);
}

function run() {
	canvas.addEventListener('keydown', onKeyDown, false);

	// make canvas focusable, then give it focus!
	canvas.setAttribute('tabindex','0');
	canvas.focus();
}

run();

</script>
</html>